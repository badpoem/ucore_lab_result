练习0

- 使用meld对实验1 2 3 4 5 6 7编写的代码merge到实验8代码中。
- 并且对相应需要修改的地方进行修改。

>

练习1

”UNIX的PIPE机制“的概要设方案：

- 管道是半双工的，数据只能向一个方向流动；需要双方通信时，需要建立起两个管道；只能用于父子进程或者兄弟进程之间；单独构成一种独立的文件系统，并且只存在与内存中；一个进程向管道中写的内容被管道另一端的进程读出，写入的内容每次都添加在管道缓冲区的末尾，并且每次都是从缓冲区的头部读出数据。
- 管道两端可分别用描述字fd[0]以及fd[1]来描述，一端只能用于读，由描述字fd[0]表示，称其为管道读端；另一端则只能用于写，由描述字fd[1]来表示，称其为管道写端。
- 如果管道的写端不存在，则认为已经读到了数据的末尾，读函数返回的读出字节数为0；当管道的写端存在时，如果请求的字节数目大于PIPE_BUF，则返回管道中现有的数据字节数，如果请求的字节数目不大于PIPE_BUF，则返回管道中现有数据字节数，或者返回请求的字节数
- 向管道中写入数据时，不保证写入的原子性，管道缓冲区一有空闲区域，写进程就会试图向管道写入数据。如果读进程不读走管道缓冲区中的数据，那么写操作将一直阻塞。

>

练习2

基于”UNIX的硬链接和软链接机制“的概要设方案：

- 硬链接：A是B的硬链接，则A的目录项中的inode节点号与B的目录项中的inode节点号相同，即一个inode节点对应两个不同的文件名，两个文件名指向同一个文件。每增加一个文件名，inode节点上的链接数增加一，每删除一个对应的文件名，inode节点上的链接数减一，直到为0，inode节点和对应的数据块被回收。
- 软链接：A是B的软链接，A的目录项中的inode节点号与B的目录项中的inode节点号不相同，A和B指向的是两个不同的inode，继而指向两块不同的数据块。但是A的数据块中存放的只是B的路径名（可以根据这个找到B的目录项）。A和B之间是“主从”关系，如果B被删除了，A仍然存在（因为两个是不同的文件），但指向的是一个无效的链接。

>

区别于参考答案：

- 没有太大的区别。因为注释已经非常详细。
- 练习2参考了参考答案的实现。

>

实验知识点

- 读文件操作
- 基于文件系统的执行程序机制

>

OS原理知识点

- 对文件和io的操作有所侧重，所以一些知识点并未涉及

>

